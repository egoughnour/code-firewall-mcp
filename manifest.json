{
  "manifest_version": "0.1",
  "name": "code-firewall-mcp",
  "display_name": "Code Firewall MCP",
  "version": "0.1.0",
  "description": "Structural similarity-based code security filter. Blocks dangerous code patterns before they reach execution tools by comparing code structure against a blacklist of known-bad patterns using tree-sitter, Ollama embeddings, and ChromaDB.",
  "author": {
    "name": "Erik Goughnour",
    "email": "e.goughnour@gmail.com",
    "url": "https://github.com/egoughnour"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/egoughnour/code-firewall-mcp"
  },
  "server": {
    "type": "python",
    "entry_point": "src/firewall_server.py",
    "mcp_config": {
      "command": "uvx",
      "args": [
        "code-firewall-mcp"
      ],
      "env": {
        "FIREWALL_DATA_DIR": "${user_config.firewall_data_dir}",
        "OLLAMA_URL": "${user_config.ollama_url}",
        "EMBEDDING_MODEL": "${user_config.embedding_model}",
        "SIMILARITY_THRESHOLD": "${user_config.similarity_threshold}",
        "NEAR_MISS_THRESHOLD": "${user_config.near_miss_threshold}"
      }
    }
  },
  "user_config": {
    "firewall_data_dir": {
      "type": "string",
      "label": "Data Directory",
      "description": "Directory for storing ChromaDB data and pattern collections",
      "default": "/tmp/code-firewall",
      "required": false
    },
    "ollama_url": {
      "type": "string",
      "label": "Ollama URL",
      "description": "URL of the Ollama server for embeddings",
      "default": "http://localhost:11434",
      "required": false
    },
    "embedding_model": {
      "type": "string",
      "label": "Embedding Model",
      "description": "Ollama model to use for embeddings (must support embed endpoint)",
      "default": "nomic-embed-text",
      "required": false
    },
    "similarity_threshold": {
      "type": "string",
      "label": "Block Threshold",
      "description": "Similarity threshold (0-1) above which code is blocked",
      "default": "0.85",
      "required": false
    },
    "near_miss_threshold": {
      "type": "string",
      "label": "Near-miss Threshold",
      "description": "Similarity threshold (0-1) for recording near-misses",
      "default": "0.70",
      "required": false
    }
  },
  "tools": [
    {
      "name": "firewall_check",
      "description": "Check if a code file is safe to execute"
    },
    {
      "name": "firewall_check_code",
      "description": "Check if code string is safe (no file required)"
    },
    {
      "name": "firewall_blacklist",
      "description": "Add a dangerous code pattern to the blacklist"
    },
    {
      "name": "firewall_record_delta",
      "description": "Record a near-miss variant for classifier sharpening"
    },
    {
      "name": "firewall_list_patterns",
      "description": "List patterns in blacklist or delta collection"
    },
    {
      "name": "firewall_remove_pattern",
      "description": "Remove a pattern from blacklist or deltas"
    },
    {
      "name": "firewall_status",
      "description": "Get firewall status and statistics"
    }
  ],
  "categories": [
    "security",
    "code-analysis",
    "developer-tools"
  ],
  "tags": [
    "security",
    "firewall",
    "code-analysis",
    "tree-sitter",
    "embeddings",
    "ollama",
    "chromadb",
    "similarity",
    "blacklist"
  ],
  "license": "MIT"
}
